@baseUrl = http://localhost:3000/api/v1

### Health check
GET http://localhost:3000/health

###

### =====================
###       JOBS CRUD
### =====================

### Crear un job
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "name": "Test Job",
  "type": "email.send",
  "payload": {
    "to": "test@example.com",
    "subject": "Hello"
  },
  "priority": "HIGH"
}

### Crear job con prioridad CRITICAL (se encola primero)
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "name": "Critical Job",
  "type": "EMAIL",
  "payload": {
    "to": "urgent@example.com",
    "subject": "Urgent notification"
  },
  "priority": "CRITICAL"
}

### Crear job con ejecución diferida (delayed queue)
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "name": "Scheduled Job",
  "type": "WEBHOOK",
  "payload": {
    "url": "https://api.example.com/callback"
  },
  "priority": "NORMAL",
  "scheduledAt": "2026-01-15T10:00:00Z"
}

### Crear job con webhook de notificación
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "name": "Job with Webhook",
  "type": "REPORT",
  "payload": {
    "reportType": "monthly",
    "format": "pdf"
  },
  "priority": "LOW",
  "webhookUrl": "https://api.example.com/job-completed"
}

### Crear job con configuración de reintentos
POST {{baseUrl}}/jobs
Content-Type: application/json

{
  "name": "Retry Job",
  "type": "API_CALL",
  "payload": {
    "endpoint": "https://external-api.com/data"
  },
  "priority": "NORMAL",
  "maxRetries": 5,
  "retryDelay": 5000
}

### Listar jobs
GET {{baseUrl}}/jobs

### Listar jobs con filtros
GET {{baseUrl}}/jobs?status=PENDING&priority=HIGH&page=1&limit=10

### Obtener job por ID
@jobId = reemplaza-con-uuid-real

###
GET {{baseUrl}}/jobs/{{jobId}}

### Actualizar job
PATCH {{baseUrl}}/jobs/{{jobId}}
Content-Type: application/json

{
  "priority": "CRITICAL"
}

### Cancelar job
POST {{baseUrl}}/jobs/{{jobId}}/cancel

### Eliminar job
DELETE {{baseUrl}}/jobs/{{jobId}}
